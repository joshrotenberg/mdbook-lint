# mdbook-lint Configuration for Documentation
#
# This configuration demonstrates real-world usage for an mdBook project.
# It balances strictness with practical documentation needs.

# ===========================================================================
# GLOBAL SETTINGS
# ===========================================================================

# Fail CI builds on warnings (enable this once documentation is clean)
fail-on-warnings = false

# Rules to disable globally
# These are disabled because they conflict with documentation conventions
disabled-rules = [
    "MD013",    # Line length - docs often have long lines for readability
    "MD033",    # Inline HTML - we use HTML for keyboard shortcuts, etc.
    "MD041",    # First line heading - mdBook chapters don't always start with H1
    "CONTENT003", # Short chapters - some reference pages are intentionally brief
    "CONTENT004", # Heading capitalization - we use title case for headings
]

# ===========================================================================
# HEADING RULES
# ===========================================================================

# MD003 - Heading style: use ATX-style headers (# ## ###) consistently
[MD003]
style = "atx"

# MD022 - Blank lines around headings
[MD022]
lines_above = 1
lines_below = 1

# MD024 - Allow duplicate headings in different sections
[MD024]
siblings_only = true

# MD026 - Trailing punctuation in headings
# Allow question marks for FAQ-style headings
[MD026]
punctuation = ".,;:!。，；：！"

# ===========================================================================
# LIST RULES
# ===========================================================================

# MD004 - Unordered list style: use dashes consistently
[MD004]
style = "dash"

# MD007 - List indentation: 2 spaces per level
[MD007]
indent = 2

# MD029 - Ordered list style: allow both "1." and sequential numbering
[MD029]
style = "one_or_ordered"

# MD030 - Spaces after list markers
[MD030]
ul_single = 1
ul_multi = 1
ol_single = 1
ol_multi = 1

# ===========================================================================
# WHITESPACE RULES
# ===========================================================================

# MD009 - Trailing spaces
[MD009]
br_spaces = 2      # Allow 2 trailing spaces for hard line breaks
strict = false

# MD010 - Hard tabs
[MD010]
code_blocks = false  # Don't flag tabs in code blocks
spaces_per_tab = 4

# MD012 - Maximum consecutive blank lines
[MD012]
maximum = 2

# ===========================================================================
# CODE BLOCK RULES
# ===========================================================================

# MD040 - Fenced code blocks should have a language
# Note: MDBOOK001 provides better checking for mdBook projects
[MD040]
language_optional = false

# MD046 - Code block style: prefer fenced over indented
[MD046]
style = "fenced"

# MD048 - Code fence style: use backticks consistently
[MD048]
style = "backtick"

# ===========================================================================
# LINK RULES
# ===========================================================================

# MD051 - Link fragments validation is enabled by default
# This checks that #anchors point to valid headings

# MD053 - Unused link reference definitions
[MD053]
ignored_definitions = ["^//"]  # Ignore comment-style definitions

# ===========================================================================
# TABLE RULES
# ===========================================================================

# MD055 - Table pipe style
[MD055]
style = "leading_and_trailing"

# MD058 - Tables surrounded by blank lines (enabled by default)

# MD060 - Table column alignment
[MD060]
style = "consistent"

# ===========================================================================
# EMPHASIS RULES
# ===========================================================================

# MD049 - Emphasis style: use asterisks for italics
[MD049]
style = "asterisk"

# MD050 - Strong style: use asterisks for bold
[MD050]
style = "asterisk"

# ===========================================================================
# MDBOOK-SPECIFIC RULES
# ===========================================================================

# MDBOOK001 - Code blocks need language tags for syntax highlighting
# This is more mdBook-aware than MD040

# MDBOOK002 - Internal link validation
[MDBOOK002]
check_anchors = true

# MDBOOK003 - SUMMARY.md structure validation
[MDBOOK003]
allow_draft_chapters = true
max_depth = 4

# MDBOOK022 - Title directive should appear near top of file
[MDBOOK022]
max_line = 10

# ===========================================================================
# CONTENT RULES
# ===========================================================================

# CONTENT001 - No TODO/FIXME comments in published docs
# Enabled by default - remove TODOs before publishing

# CONTENT002 - No placeholder text (Lorem ipsum, TBD, etc.)
# Enabled by default

# CONTENT005 - Chapters should have intro text before first subheading
# Enabled by default - helps readers understand section purpose
